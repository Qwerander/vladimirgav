var _0x3d938a=_0x4556;function getCurrentScriptFolder(){var t=_0x4556,r=document[t(230)](t(134)),e=r[r[t(166)]-1][t(233)];return e[t(125)](0,e[t(128)]("/"))}!function(t,r){for(var e=_0x4556,a=t();;)try{if(parseInt(e(242))/1+parseInt(e(222))/2+parseInt(e(206))/3*(-parseInt(e(159))/4)+parseInt(e(176))/5*(-parseInt(e(119))/6)+parseInt(e(135))/7+parseInt(e(175))/8+-parseInt(e(226))/9*(-parseInt(e(179))/10)==623496)break;a.push(a.shift())}catch($){a.push(a.shift())}}(_0x4bb1,623496);var CurrentScriptFolder=getCurrentScriptFolder();const toolsObject={showLogs:function(t){var r=_0x4556;return"1"==toolsObject.getGetURL(r(250))&&console[r(157)](t),!1},makeRequestPromise:async function(t,r){var e=_0x4556;return toolsObject.showLogs(e(145)),new Promise(function(a,$){var x=e;let n=new XMLHttpRequest;n.open(t,r),n[x(209)]=function(){var t=x;this[t(110)]>=200&&this.status<300?a({error:0,data:n.response}):a({error:1,data:{status:this[t(110)],statusText:t(129)+r+"; Text:"+n.statusText}})},n[x(121)]=function(){var t=x;a({error:1,data:{status:this.status,statusText:t(129)+r+t(114)+n.statusText}})},n[x(202)]()})},setVisibility:async function(t,r){var e=_0x4556;if(toolsObject[e(133)](e(158)),!t)return{};r==e(225)?t[e(239)][e(154)]="block":r==e(229)?t[e(239)][e(154)]="none":r==e(184)&&(t[e(239)][e(154)]==e(229)?t[e(239)][e(154)]=e(225):t[e(239)][e(154)]=e(229))},getGetURL:function(t){var r=_0x4556,e=window.location[r(144)],a=new URLSearchParams(e);return a[r(188)](t)?a[r(188)](t):""},setGetURL:function(t,r){var e=_0x4556;toolsObject.showLogs(e(207));var a=window.location[e(115)],$=new URLSearchParams(window[e(254)][e(144)]);$[e(160)](t)?$.set(t,r):$[e(139)](t,r);var x=$[e(219)]();a=""!==window[e(254)][e(144)]?a[e(109)](window[e(254)][e(144)],"?"+x):a+"?"+x,window[e(123)].replaceState({path:a},e(218),a)},setMetaTags:async function(t,r){var e=_0x4556;toolsObject[e(133)]("setMetaTags"),document[e(186)]=t;let a=document.querySelector(e(122));if(a)a.setAttribute(e(203),r);else{let $=document[e(108)]("meta");$[e(204)](e(177),"description"),$.setAttribute("content",r),document.head[e(169)]($)}},getDivFormData:async function(t){var r=_0x4556;toolsObject[r(133)]("getDivFormData");var e=new FormData,a=[r(216),"select",r(161)];for(TypeName of a)for(inputElement of t[r(155)](TypeName))inputElement[r(214)](r(177))&&(TypeName==r(216)&&(inputElement[r(214)]("type")==r(146)||inputElement.getAttribute(r(235))==r(223))?inputElement[r(249)]&&e[r(139)](inputElement[r(214)](r(177)),inputElement.value):e[r(139)](inputElement[r(214)](r(177)),inputElement[r(116)]));return e},checkCryptoAddress:async function(t){var r=_0x4556;toolsObject[r(133)](r(148)),toolsObject[r(133)](t);var t=t[r(219)]();return 42!=t[r(166)]?{error:1,data:"Invalid address length"}:"0x"!=t.substr(0,2)?{error:1,data:r(147)}:{error:0,data:r(171)}},csvToArr:async function(t){var r=_0x4556;let e=t.trim()[r(201)]("\n"),a=e[r(150)](t=>t.split(";").filter(Boolean));return{error:0,data:r(171),csvArr:a}},checkBigInt:function(t){return/^\d+$/.test(t)},WeiToNumber:function(t,r){var e=_0x4556;for(t=t[e(219)]();t.length<r+1;)t="0"+t;var a=t[e(168)](0,t[e(166)]-r),$=t[e(168)](-r);return a+"."+$},NumberToWei:function(t,r){var e=_0x4556;let a=(t=t[e(219)]())[e(201)](".")[0],$=t[e(201)](".")[1]?t[e(201)](".")[1]:"";for(;$.length<r;)$+="0";for(;$[e(166)]>r;)$=$[e(111)](0,$[e(166)]-1);return a+$},myFloatDown:function(t){var r=_0x4556,e=t[r(219)]();if(e[r(166)]>14){var a=e[r(168)](0,14),$=e[r(168)](14)[r(109)](/[^\.]/g,"0");e=a+$}return parseFloat(e)},delay:function(t){return new Promise(r=>setTimeout(r,t))},toJSONforHTML:function(t){var r=_0x4556;return JSON[r(192)](t)[r(109)](/"/g,r(106))}};var MetaMaskEventsOns=!1;function _0x4bb1(){var t=["eth_requestAccounts","log","setVisibility","908TKaHFI","has","textarea","getTransactionStatus","methods","getCheckSignArrByAccount","getBalance","length","EventAccountsChanged","slice","appendChild","hexToNumberString","Success","getTransactionReceipt","setWeb3","getCurrentNetworkMetaMask","6275344ZDsbRt","735JwBVIy","name","push","158020eLmdOv","personal","setCurrentNetwork","eth","Wallet","toggle","requestAccountsArr","title","setRequestAccountsArr","get","TransactionReceiptData","ethereum","clearWeb3App","stringify","switchNetworkDapp","getAllowance","Error","setCheckSignArr","net_version","symbol","toLowerCase","parse","split","send","content","setAttribute","chainId","933UcYWpo","setGetURL","getWalletConnect","onload","checkMetaMaskAvailability","getCurrentMetaMaskIsConnected","currentNetwork","currentAccount","getAttribute","chainName","input","getUpdateDAppFunction","TestTitle","toString","getTransaction","updateDAppFunction","1168394xsJmzO","radio","setRequestAccounts","block","45uETbse","code","clearWalletData","none","getElementsByTagName","TokenAbi","setCurrentAccount","src","startMetaMaskEvents","type","chainChanged","getName","setWeb3Dapp","style","checkSignArr","isConnected","189121AjeoCg","switchNetworkMetaMask","toHex","web3","setWalletConnect","getCurrentAccount","simpleToken","checked","showlogs","BlockExplorerURL","accountsChanged","allowance","location","getCurrentNetwork",".json?time=","&quot;","checkSign","createElement","replace","status","substring","getRequestAccountsArr","sign","; Text:","href","value","error","call","44142PrGtoU","rpcUrl","onerror",'meta[name="description"]',"history","disconnect","substr","result","data","lastIndexOf","File: ","getWeb3","function","GET","showLogs","script","971782WoKCfi","EventDisconnect","signResult","now","append","walletConnect","getTokenAbi","Contract","getCheckSignArr","search","makeRequestPromise","checkbox","Invalid address","checkCryptoAddress","EventChainChanged","map","request","updateDApp","wallet_addEthereumChain","display","querySelectorAll"];return(_0x4bb1=function(){return t})()}function _0x4556(t,r){var e=_0x4bb1();return(_0x4556=function(t,r){return e[t-=104]})(t,r)}class sWeb3App{constructor(t={}){var r=_0x4556;this[r(127)]=t,this.updateDAppFunction=r(152),this[r(245)]=new Web3("https://etherscan.io"),this.currentNetwork=0,this[r(140)]=!1,this.requestAccountsArr=[],this[r(213)]="",this[r(240)]=[]}async [_0x3d938a(191)](){}[_0x3d938a(228)](){var t=_0x3d938a;this[t(246)](!1),this.setRequestAccountsArr([]),this.setCurrentAccount(""),this[t(196)]([])}[_0x3d938a(173)](t){this[_0x3d938a(245)]=t}[_0x3d938a(130)](){return this[_0x3d938a(245)]}[_0x3d938a(217)](){return this[_0x3d938a(221)]}setUpdateDAppFunction(t){this[_0x3d938a(221)]=t}[_0x3d938a(208)](){return this[_0x3d938a(140)]}[_0x3d938a(246)](t){this[_0x3d938a(140)]=t}[_0x3d938a(112)](){return this[_0x3d938a(185)]}[_0x3d938a(187)](t){this[_0x3d938a(185)]=t}[_0x3d938a(247)](){return this[_0x3d938a(213)]}[_0x3d938a(232)](t){this[_0x3d938a(213)]=t}getCheckSignArr(){var t=_0x3d938a;return toolsObject[t(133)](t(143)),toolsObject[t(133)](this[t(240)]),this[t(240)]}[_0x3d938a(196)](t){var r=_0x3d938a;toolsObject[r(133)](r(196)),toolsObject[r(133)](t),this[r(240)]=t}async [_0x3d938a(104)](){var t=_0x3d938a;if(this[t(208)]()){var r=await this[t(174)]();if(0==r[t(117)]&&r[t(205)]!=this[t(212)]){var e=await this.setWeb3Dapp("Wallet",chainId);if(0!=e[t(117)])return e}}return this[t(212)]}[_0x3d938a(181)](t){this[_0x3d938a(212)]=t}async getCurrentNetworkMetaMask(){var t=_0x3d938a;try{var r=await ethereum[t(151)]({method:t(197)});return{error:0,data:t(171),chainId:r}}catch(e){return{error:1,data:t(195),chainId:0,err:e}}}async [_0x3d938a(211)](){return await window.ethereum[_0x3d938a(241)]()}async [_0x3d938a(237)](){return"Name"}async setWeb3Wallet(){var t=_0x3d938a,r=await this[t(210)]();if(0!=r[t(117)])return r;var e=await this.getCurrentNetworkMetaMask();if(0!=e[t(117)])return e;var a=await this[t(238)]("Wallet",e.chainId);if(0!=a.error)return a;var $=await this[t(224)]();if(0!=$[t(117)])return $;var x=await this[t(107)]($[t(185)][0]);return 0!=x[t(117)]?x:(this[t(234)](),this[t(246)](!0),{error:0,data:t(171),Web3Data:a,chainId:e,RequestAccountsData:$,checkSignData:x})}async [_0x3d938a(210)](){var t=_0x3d938a;if(!window[t(190)])return{error:1,data:"MetaMask not found"};try{return await window[t(190)][t(151)]({method:t(156)}),{error:0,data:"Success"}}catch(r){return{error:1,data:"Error",err:r}}}async [_0x3d938a(238)](t,r){var e=_0x3d938a;try{if(t==e(183))var a=new Web3(window[e(190)]);else var a=new Web3(t);return this[e(173)](a),this.setCurrentNetwork(r),{error:0,data:"Success",web3:a}}catch($){return{error:1,data:e(195),err:$}}}async [_0x3d938a(224)](){var t=_0x3d938a;try{var r=await window[t(190)].request({method:t(156)});return toolsObject[t(133)](r),this.setRequestAccountsArr(r),{error:0,data:t(171),requestAccountsArr:r}}catch(e){return{error:1,data:"Error",err:e}}}async [_0x3d938a(164)](t){var r=_0x3d938a,e=this.getCheckSignArr();if(e[r(166)]>0){for(var a of e)if(0==a.error&&a.connectedAccount.toLowerCase()===t[r(199)]())return a}return{error:1,data:"Sign none",connectedAccount:t}}async [_0x3d938a(107)](t){var r=_0x3d938a;try{var e=await this[r(164)](t);if(0==e[r(117)])return this[r(232)](t),e;var a="Please sign this message to verify your identity. Nonce: "+Date.now()[r(219)](),$=await this.setSign(t,a);let x=await this[r(130)]()[r(182)][r(180)].ecRecover(a,$[r(137)]);if(t[r(199)]()!==x[r(199)]())return{error:1,data:"Sign error",connectedAccount:t,recoveredAddress:x};this.setCurrentAccount(t);var n={error:0,data:r(171),connectedAccount:t,recoveredAddress:x,signMessage:a,SignData:$},s=this[r(143)]();return s[r(178)](n),this[r(196)](s),n}catch(c){return{error:1,data:r(195),err:c}}}async setSign(t,r){var e=_0x3d938a;try{var a=await this[e(130)]().eth[e(180)][e(113)](r,t,"");return{error:0,data:"Success",connectedAccount:t,signMessage:r,signResult:a}}catch($){return{error:1,data:"Error",err:$}}}async [_0x3d938a(193)](t){var r=_0x3d938a;try{if(this[r(208)]())return await this[r(243)](t);t[r(215)];var e=t[r(120)],a=t[r(205)],$=(t[r(198)],t[r(251)],await this[r(238)](e,a));if(0!=$[r(117)])return $;return{error:0,data:r(171),chainId:a}}catch(x){return{error:1,data:r(195),err:x}}}async [_0x3d938a(243)](t){var r=_0x3d938a,e=t[r(215)],a=t[r(120)],$=parseInt(t[r(205)]),x=t[r(198)],n=t[r(251)],s=this.getWeb3().utils[r(244)]($);try{if(window[r(190)].networkVersion!==$)try{await window[r(190)][r(151)]({method:"wallet_switchEthereumChain",params:[{chainId:s}]});var c=await this.setWeb3Dapp(r(183),$);if(0!=c.error)return c;return{error:0,data:r(171),chainId:$}}catch(o){if(4902===o[r(227)])try{await ethereum[r(151)]({method:r(153),params:[{chainName:e,chainId:s,nativeCurrency:{name:x,decimals:18,symbol:x},rpcUrls:[a],blockExplorerUrls:[n]}]});var c=await this[r(238)](r(183),$);if(0!=c.error)return c;return{error:0,data:r(171),chainId:$}}catch(i){}}return{error:1,data:"Error undefined"}}catch(d){return{error:1,data:"Error",err:d}}}async [_0x3d938a(167)](t){var r=_0x3d938a;toolsObject[r(133)](r(167)),0==t[r(166)]&&this.clearWalletData(),typeof window[this[r(221)]]===r(131)&&await window[this[r(221)]]({error:0,data:r(171),type:r(252),accounts:t})}async [_0x3d938a(149)](t){var r=_0x3d938a;toolsObject[r(133)]("EventChainChanged");var e=this[r(130)]().utils[r(170)](t),a=await this.setWeb3Dapp(r(183),e);if(0!=a[r(117)])return a;typeof window[this.updateDAppFunction]===r(131)&&await window[this[r(221)]]({error:0,data:"Success",type:r(236),chainId:e})}async [_0x3d938a(136)](){var t=_0x3d938a;toolsObject[t(133)](t(136)),this.setWalletConnect(!1),typeof window[this[t(221)]]===t(131)&&await window[this.updateDAppFunction]({error:0,data:t(171),type:t(236)})}async startMetaMaskEvents(){var t=_0x3d938a;MetaMaskEventsOns||(MetaMaskEventsOns=!0,window[t(190)].on(t(252),function(r){sWeb3AppClass[t(167)](r)}),window[t(190)].on(t(236),function(r){sWeb3AppClass[t(149)](r)}),window.ethereum.on(t(124),function(t){sWeb3AppClass.EventDisconnect()}))}async [_0x3d938a(141)](t){var r=_0x3d938a;try{var e=await toolsObject.makeRequestPromise(r(132),CurrentScriptFolder+"/../abi/"+t+r(105)+Date[r(138)]());if(0!=e.error)return{error:1,data:r(195)};var a=e[r(127)],$=JSON[r(200)](a),x=JSON[r(200)]($[r(126)]);return{error:0,data:r(171),TokenAbi:x}}catch(n){return{error:1,data:"Error",err:n}}}async getDecimals(t){var r=_0x3d938a;try{var e=await this.getTokenAbi("simpleToken");if(0!=e.error)return e;var a=e[r(231)],$=new this.web3[r(182)][r(142)](a,t),x=parseInt(await $[r(163)].decimals().call());return{error:0,data:r(171),decimals:x}}catch(n){return{error:1,data:"Error",err:n}}}async [_0x3d938a(194)](t,r,e){var a=_0x3d938a;try{var $=await this[a(141)](a(248));if(0!=$[a(117)])return $;var x,n=await new this[a(245)].eth[a(142)]($[a(231)],t,{from:r})[a(163)][a(253)](r,e).call();return{error:0,data:"Success",allowance:n}}catch(s){return{error:1,data:"Error",err:s}}}async [_0x3d938a(165)](t,r){var e=_0x3d938a;try{var a=await this[e(141)]("simpleToken");if(0!=a[e(117)])return a;var $,x=await new this[e(245)][e(182)][e(142)](a.TokenAbi,t,{from:r}).methods.balanceOf(r)[e(118)]();return{error:0,data:e(171),balance:x}}catch(n){return{error:1,data:e(195),err:n}}}async sendTransaction(t,r,e,a){var $=_0x3d938a;try{var x=await window.ethereum[$(151)]({method:"eth_sendTransaction",params:[{from:t,to:r,value:a,data:e}]});return{error:0,data:$(171),txHash:x}}catch(n){return{error:1,data:"Error",err:n}}}async [_0x3d938a(220)](t){var r=_0x3d938a;try{var e=await this.web3.eth[r(220)](t);return{error:0,data:r(171),TransactionData:e}}catch(a){return{error:1,data:"Error",err:a}}}async [_0x3d938a(172)](t){var r=_0x3d938a;try{var e=await this.web3[r(182)][r(172)](t);return{error:0,data:r(171),TransactionReceiptData:e}}catch(a){return{error:1,data:r(195),err:a}}}async [_0x3d938a(162)](t){var r=_0x3d938a;try{var e=await this.getTransactionReceipt(t);if(0!=e.error)return e;var a=parseInt(e[r(189)][r(110)][r(219)]());return{error:0,data:"Success",TransactionStatus:a}}catch($){return{error:1,data:r(195),err:$}}}}var sWeb3AppClass=new sWeb3App;